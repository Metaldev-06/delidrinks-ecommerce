<section class="payment__container" *ngIf="order">
  <h2>Confirmar compra</h2>

  <article class="products__container">
    <div class="products__content">
      <h3>Tu pedido</h3>

      <app-payment-product-card
        *ngFor="let product of products"
        [product]="product"
      />
    </div>

    <span class="separator"></span>

    <div class="products__info" *ngIf="products">
      <h3>Detalle del pedido</h3>

      <app-payment-info-card [productInfo]="products" [orderDetail]="order" />
    </div>
  </article>

  <article class="user__container" *ngIf="userData">
    <app-personal-data-card [userData]="userData" [showOptions]="false" />

    <app-personal-address-card [addresses]="addresses" [showOption]="false" />

    <div class="card__container">
      <h2>
        <i class="pi pi-truck"></i>
        Método De Envío Elegído
      </h2>

      <div class="card__info">
        <div class="card__info--left">
          <i class="pi pi-check"></i>
          <p class="bold">{{ order.shipping_method | titlecase }}</p>
        </div>

        <p class="bold">
          {{ order.shipping_price | currency : "ARS" : "symbol-narrow" }}
        </p>
      </div>
    </div>

    <!-- <app-form-credit-card /> -->

    <div class="card__container">
      <h2>
        <i class="pi pi-credit-card"></i>
        Método De Pago
      </h2>

      <div class="button__container">
        <button class="button custom__button--black" (click)="pay()">
          Seleccionar medio de pago
        </button>
      </div>
    </div>
  </article>
</section>

<p-dialog
  [(visible)]="showRedirect"
  [breakpoints]="{ '960px': '75vw' }"
  [style]="{ width: '40vw' }"
  [draggable]="false"
  [resizable]="false"
  [modal]="true"
  [closable]="false"
>
  <app-loader />
</p-dialog>
